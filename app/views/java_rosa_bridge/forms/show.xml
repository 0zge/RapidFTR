<?xml version="1.0"?>
<h:html xmlns="http://www.w3.org/2002/xforms" xmlns:h="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa">
	<h:head>
		<h:title>RapidFTR Missing Child Form</h:title>
		<model>
			<instance>
				<childData id="basic">
					<Name/>
					<Age/>
					<AgePrecision/>
					<Gender/>
					<Photo/>
          <Relations>
            <Relation>
              <Name/>
              <Type/>
            </Relation>
          </Relations>
				</childData>
			</instance> 
			<!-- add properties to the questions, like data types, skip logic, and constraints -->
			<bind nodeset="/childData/Name" type="string" />
			<bind nodeset="/childData/Age" type="integer" />
			<bind nodeset="/childData/AgePrecision" type="string" />
			<bind nodeset="/childData/Gender" type="string" />
			<bind nodeset="/childData/Photo" type="binary" />
      <bind nodeset="/childData/Relations/Relation" />
      <bind nodeset="/childData/Relations/Relation/Name" type="string" />
      <bind nodeset="/childData/Relations/Relation/Type" type="string" />
		</model>
	</h:head>
	<h:body>   
		<!-- define the questions that the user will fill out -->
		<input ref="Name">
			<label>Child's name</label>
		</input>
		<input ref="Age">
			<label>Child's age</label>
		</input>
		<select1 ref="AgePrecision">
			<label>Child's age is</label>
			<item>
				<label>Approximate</label>
				<value>Approximate</value>
			</item>
			<item>
				<label>Exact</label>
				<value>Exact</value>
			</item>
		</select1>
		<select1 ref="Gender">
			<label>Child's gender</label>
			<item>
				<label>Male</label>
				<value>Male</value>
			</item>
			<item>
  			<label>Female</label>
  			<value>Female</value>
			</item>
		</select1>
		<upload ref="Photo" mediatype="image/*">
			<label>Photo of child</label>
		</upload>
    <group>
      <label>Relatives</label>
      <repeat nodeset="/childData/Relations/Relation">
        <select1 ref="Type">
          <label>Relation</label>
          <item>
            <label>Father</label>
            <value>Father</value>
          </item> 
          <item>
            <label>Mother</label>
            <value>Mother</value>
          </item> 
          <item>
            <label>Brother</label>
            <value>Brother</value>
          </item> 
          <item>
            <label>Sister</label>
            <value>Sister</value>
          </item> 
        </select1>
        <input ref="Name"> 
          <label>Relative's Name</label>
        </input>
      </repeat>
		</group>
	</h:body>
</h:html>
